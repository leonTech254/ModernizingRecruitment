import{_ as v,b as A,i as g,r as b,o as c,c as d,a as e,d as h,e as i,w as F,j as _,v as u,k as j,p as D,g as x,t as I,F as J,l as L}from"./index-0e60d74d.js";import{S as E}from"./sweetalert2.all-c4a8c568.js";const V={components:{title2Component:A},data(){return{formData:{name:"",email:"",resume:null,coverLetter:"",Alertmessage:"",AlertType:"error"}}},methods:{callAlert(t,o){E.fire({icon:t,title:t,text:o,showConfirmButton:!1,timer:2e3})},handleFileChange(t){this.formData.resume=t.target.files[0]},cancelForm(){this.$store.state.applicationForm=!1},submitForm(){const t=new FormData;t.append("Jobtitle",this.$store.state.jobtitle),t.append("name",this.formData.name),t.append("email",this.formData.email),t.append("resume",this.formData.resume),t.append("coverLetter",this.formData.coverLetter),g.post("/applications",t,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{console.log(o.data),this.callAlert("success",o.data.message)}).catch(o=>{this.callAlert("error","error submitting the application")})}}},a=t=>(D("data-v-c7b35f88"),t=t(),x(),t),k={key:0,class:"ApplyFormWrapper"},w={class:"applyForm"},S={class:"jobtitle"},$=a(()=>e("label",{for:"name"},"Name:",-1)),N=a(()=>e("br",null,null,-1)),T=a(()=>e("br",null,null,-1)),q=a(()=>e("label",{for:"email"},"Email:",-1)),B=a(()=>e("br",null,null,-1)),M=a(()=>e("br",null,null,-1)),O=a(()=>e("label",{for:"resume"},"Resume:",-1)),R={class:"fileInputWrapper"},P={class:"fileName"},U=a(()=>e("br",null,null,-1)),W=a(()=>e("br",null,null,-1)),Y=a(()=>e("label",{for:"coverLetter"},"Cover Letter:",-1)),z=a(()=>e("br",null,null,-1)),G=a(()=>e("br",null,null,-1)),H=a(()=>e("button",{type:"submit"},"Submit Application",-1));function K(t,o,m,C,l,n){const p=b("title2Component");return t.$store.state.applicationForm?(c(),d("div",k,[e("div",w,[h(p,{title:"APPLICATION FORM"}),e("div",S,i(t.$store.state.jobtitle),1),e("span",{class:"material-icons cancelForm",onClick:o[0]||(o[0]=(...s)=>n.cancelForm&&n.cancelForm(...s))},"cancel"),e("form",{onSubmit:o[5]||(o[5]=F((...s)=>n.submitForm&&n.submitForm(...s),["prevent"])),enctype:"multipart/form-data"},[$,_(e("input",{type:"text",id:"name","onUpdate:modelValue":o[1]||(o[1]=s=>l.formData.name=s),required:""},null,512),[[u,l.formData.name]]),N,T,q,_(e("input",{type:"email",id:"email","onUpdate:modelValue":o[2]||(o[2]=s=>l.formData.email=s),required:""},null,512),[[u,l.formData.email]]),B,M,O,e("div",R,[e("input",{type:"file",id:"resume",class:"fileInput",onChange:o[3]||(o[3]=(...s)=>n.handleFileChange&&n.handleFileChange(...s)),required:""},null,32),e("span",P,i(l.formData.resume?l.formData.resume.name:"Choose file"),1)]),U,W,Y,_(e("textarea",{id:"coverLetter","onUpdate:modelValue":o[4]||(o[4]=s=>l.formData.coverLetter=s),required:""},null,512),[[u,l.formData.coverLetter]]),z,G,H],32)])])):j("",!0)}const Q=v(V,[["render",K],["__scopeId","data-v-c7b35f88"]]);const X={components:{titleComponent:I,ApplyJobComponent:Q},data(){return{allJobs:[]}},methods:{jobs(){g.get("/jobs/").then(t=>{t.data.forEach(m=>{m.image="JobImage.png"}),this.allJobs=t.data}).catch(t=>{})},toggleExpand(){this.isExpanded=!this.isExpanded},ApplyThis(t){this.$store.state.jobtitle=t,this.$store.state.applicationForm=!0}},created(){this.jobs()}},Z={class:"jobsWrapper"},ee={class:"cardContainer"},te={class:"job-title"},oe={class:"job-date"},se={class:"job-card-body"},ae=["src"],le={class:"job-description"},ne={class:"job-location"},re={class:"button"},ie=["onClick"];function ce(t,o,m,C,l,n){const p=b("ApplyJobComponent"),s=b("titleComponent");return c(),d("div",null,[h(p),e("div",Z,[h(s,{title:"VENOMA PRIMARY JOB VACANCIES"}),e("div",ee,[(c(!0),d(J,null,L(l.allJobs,(r,y)=>(c(),d("div",{class:"job-card",key:y},[e("div",null,[e("div",{class:"job-card-header",onClick:o[0]||(o[0]=(...f)=>n.toggleExpand&&n.toggleExpand(...f))},[e("h6",te,i(r.job_title),1),e("p",oe,i(r.date_added),1)]),e("div",se,[e("img",{class:"job-image",src:"https://resources.leonteqsecurity.com/Images/"+r.image,alt:"Job Image"},null,8,ae),e("p",le,i(r.job_description),1),e("p",ne,"Location: "+i(r.job_location),1),e("div",re,[e("button",{class:"btn",onClick:f=>n.ApplyThis(r.job_title)},"Apply",8,ie)])])])]))),128))])])])}const pe=v(X,[["render",ce],["__scopeId","data-v-27b3b94d"]]);export{pe as default};
